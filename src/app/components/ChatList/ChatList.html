<div class="sidebar-container">
  
  @if (currentUserName) {
    <div class="current-user-header">
      <img [src]="currentUserAvatar" class="my-avatar" alt="Me">
      <span class="my-name">{{ currentUserName }}</span>
    </div>
  }

  <div class="sidebar-header">
    <div class="search-box">
      <i class="search-icon">üîç</i>
      <input type="text" placeholder="Search chats..." />
    </div>
  </div>

  <div class="chat-list">
    @for (chat of chats; track chat.otherUserID) {
      <div 
        class="chat-item" 
        [class.active]="chat.isActive"
        (click)="selectChat(chat)"
      >
        
        <div class="avatar-container">
          <img [src]="chat.avatar" [alt]="chat.otherUserName" class="avatar">
        </div>

        <div class="chat-info">
          <div class="chat-header">
            <span class="chat-name">{{ chat.otherUserName }}</span>
            <span class="chat-time">{{ chat.lastMessageDate }}</span>
          </div>
          
          <div class="chat-footer">
            <p class="last-message">{{ chat.lastMessgeContet }}</p>
            
            @if (chat.unreadCount > 0) {
              <span class="unread-badge">
                {{ chat.unreadCount }}
              </span>
            }
          </div>
        </div>

      </div>
    }
  </div>
</div>